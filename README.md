# Blockchain_task_1
Группа: МПИ-22-1
Команда: Гунев Д., Белоус В.

Основной функционал контракта заключается в аренде компьютеров. Каждый токен представляет компьютер, и контракт позволяет пользователям арендовать компьютеры, оплачивая их использование в течение определенного времени.

В контракте определена структура Computer, которая содержит следующие поля:
    
    имя компьютера (тип string);
    владелец компьютера (тип address);
    флаг, указывающий на то, арендован ли компьютер (тип bool);
    цена аренды компьютера за минуту (тип uint256);
    время, до которого компьютер арендован (тип uint256).

Также в контракте определены массив computers, который содержит все компьютеры, и два словаря:
1) _computerName, который содержит имя компьютера по его идентификатору (тип mapping);
2) balances, который хранит баланс каждого пользователя (тип mapping).

Функции контракта:
1) Конструктор контракта принимает две строки (name и symbol) и вызывает конструктор базового ERC721 контракта с этими параметрами. Также контракт сделан платежеспособным (payable).
2) Функция mint() создает новый токен, представляющий компьютер. Она принимает адрес получателя (to), имя компьютера (computerName_) и цену аренды за минуту (rentPricePerMinute). Функция добавляет новый объект Computer в массив computers, сохраняет его идентификатор и имя в словарь _computerName, создает новый токен и передает его получателю.
3)  Функция rentByTime() позволяет арендовать компьютер на определенное количество времени. Для этого необходимо указать идентификатор компьютера и адрес арендатора, а также оплатить цену аренды за минуту. Функция проверяет, что вызывающий пользователь является владельцем токена или имеет право на управление токеном, а также что компьютер не был уже арендован. Если все условия выполнены, то средства, необходимые для аренды, переводятся на баланс контракта. После этого вызывается функция перевода токена на указанный адрес арендатора, устанавливается время окончания аренды и устанавливается флаг аренды.
4)  Функция returnFromRent() позволяет владельцу токена вернуть компьютер после окончания аренды. Для этого необходимо указать идентификатор токена и адрес, с которого он будет возвращен. Функция проверяет, что владелец токена не пытается вернуть его самому себе, что вызывающий пользователь является владельцем токена, что компьютер был арендован и что время аренды истекло. Если все условия выполнены, то вызывается функция перевода токена на адрес первоначального владельца и устанавливается флаг аренды в значение false.
5)  Функция isRented() позволяет проверить, арендован ли компьютер с указанным идентификатором.
6)  Функция computerName() позволяет получить имя компьютера с указанным идентификатором.
7)  Функция payRent() позволяет внести оплату за аренду компьютера. Для этого необходимо указать идентификатор токена. Функция проверяет, что компьютер не арендован, что вызывающий пользователь не является владельцем токена и что сумма оплаты соответствует цене аренды за минуту. Если все условия выполнены, то средства переводятся на баланс контракта и затем могут быть использованы для аренды компьютеров.
8)  Функция getBalances() позволяет получить баланс указанного адреса в контракте.
